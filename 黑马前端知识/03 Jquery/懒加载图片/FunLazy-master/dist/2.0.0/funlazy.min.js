/*!
 * FunLazy v2.0.0
 * Copyright (C) 2020, ZG
 * Released under the MIT license.
 */
!function(c,d){"function"===typeof define&&define.cmd?define(d):"undefined"!==typeof module&&"object"===typeof exports?module.exports=d():c.FunLazy=d()}("undefined"!==typeof window?window:this,function(){function c(c,a){return document.defaultView.getComputedStyle(c,null).getPropertyValue(a)}function d(c,a,d){d?c.src=a:c.style.backgroundImage="url("+a+")"}function q(d){"body"!==d.parentNode.nodeName.toLowerCase()&&(e=d.parentNode,"none"===c(e,"display")||"hidden"===c(e,"visibility")?k=!0:q(e));return k}var m=document.documentElement,l=document.head,r="function"===typeof IntersectionObserver,v={container:"body",effect:"show",placeholder:"data:img/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAA1BMVEXd3d3u346CAAAADUlEQVR42gECAP3/AAAAAgABUyucMAAAAABJRU5ErkJggg\x3d\x3d",errorPlaceholder:"",threshold:0,width:null,height:null,axis:"y",eventType:"",onSuccess:function(){},onError:function(){}},h=document.getElementById("funlazy-fadeIn-style");h&&l.removeChild(h);l.insertAdjacentHTML("beforeend",'\x3cstyle id\x3d"funlazy-fadeIn-style"\x3e.funlazy-fadeIn{-webkit-animation:funlazy-fadeIn 400ms ease 0s 1 normal forwards running;-moz-animation:funlazy-fadeIn 400ms ease 0s 1 normal forwards running;animation:funlazy-fadeIn 400ms ease 0s 1 normal forwards running;}@-webkit-keyframes funlazy-fadeIn{from{opacity:0}to{opacity:1}}@-moz-keyframes funlazy-fadeIn{from{opacity:0}to{opacity:1}}@keyframes funlazy-fadeIn{from{opacity:0}to{opacity:1}}\x3c/style\x3e');var k=!1,e=null;return function(e){var a=function(a,c){var b={},d;for(d in c)b[d]=a[d]||c[d];return b}(e,v),k="function"===typeof a.onSuccess,l="function"===typeof a.onError,f=document.querySelector(a.container);[].slice.call(f.querySelectorAll("[data-funlazy]")).forEach(function(b){function e(b,c){if(b.funlazyLoaded)c&&c(!0);else{var e=new Image;e.onload=function(){d(b,g,p);if("fadeIn"===a.effect&&"classList"in m){b.classList.add("funlazy-fadeIn");var e=window.setTimeout(function(){window.clearTimeout(e);b.classList.remove("funlazy-fadeIn")},400)}if(!b.funlazyLoaded&&k)a.onSuccess(b,g);b.funlazyLoaded=!0;c&&c(!0)};e.onerror=function(){"string"===typeof a.errorPlaceholder&&d(b,a.errorPlaceholder,p);if(!b.funlazyFailed&&l)a.onError(b,g);b.funlazyFailed=!0;c&&c(!1)};e.src=g}}function n(){if(!b.funlazyLoaded)if(r){var d="number"===typeof a.threshold&&0<a.threshold?a.threshold:0,g=new IntersectionObserver(function(a){a.forEach(function(a){a.target&&a.isIntersecting&&e(a.target,function(b){!0===b&&g.unobserve(a.target)})})},{root:"body"===a.container?null:f,threshold:[0],rootMargin:"0px "+("x"===a.axis?d:0)+"px "+("y"===a.axis?d:0)+"px 0px"});g.observe(b)}else d=function(){var d=b.getBoundingClientRect();if("x"===a.axis){var c=window.pageXOffset;c<d.left+c+a.threshold+h&&m.clientWidth+c>d.left+c-a.threshold&&e(b)}"y"===a.axis&&(c=window.pageYOffset,c<d.top+c+a.threshold+t&&m.clientHeight+c>d.top+c-a.threshold&&e(b))},"body"===a.container?d():f&&("fixed"===c(f,"position")?d():("x"===a.axis&&(d=f.scrollLeft,d<b.offsetLeft+a.threshold+h&&parseInt(c(f,"width"))+d>b.offsetLeft-a.threshold&&e(b)),"y"===a.axis&&(d=f.scrollTop,d<b.offsetTop+a.threshold+t&&parseInt(c(f,"height"))+d>b.offsetTop-a.threshold&&e(b))))}var g=b.getAttribute("data-funlazy").trim();if(g&&"none"!==c(b,"display")&&"hidden"!==c(b,"visibility")&&!q(b)&&0!==c(b,"opacity")){var p="img"===b.nodeName.toLowerCase();"string"===typeof a.placeholder&&d(b,a.placeholder,p);a.width&&(b.style.width="string"===typeof a.width?a.width:a.width+"px");a.height&&(b.style.height="string"===typeof a.height?a.height:a.height+"px");var h=parseInt(c(b,"width")),t=parseInt(c(b,"height"));a.eventType.match(/(click|dblclick|mouseover)/)?document.addEventListener(a.eventType,function(a){a.target===b&&e(b)}):n();if(!r&&!a.eventType){var u="body"===a.container?window:f;u.addEventListener("scroll",n);u.addEventListener("resize",n)}}})}});